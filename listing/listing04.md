### Что выведет программа? Объяснить вывод программы.

```go
package main
 
func main() {
    ch := make(chan int)
    go func() {
        for i := 0; i < 10; i++ {
            ch <- i
        }
    }()
 
    for n := range ch {
        println(n)
    }
}
```

### Ответ:

0
1
...
8
9
deadlock!

Числа выведутся по порядку. Основная горутина дойдет то цикла for, зайдет в него и будет ожидать получения значения в канал. Вторая горутина будет записывать по одному значнию в канал, блокироваться и ждать когда основная считает. Далее основная считатала значние и вывела его на экран и встала опять в ожидание. Так будет до тех пор пока анонимная горутина не отработает до конца. Далее основная заблокируется на всегда, так как получить данные ей будет не откуда.

Чтобы избежать такого поведения в горутину передатчик, нужно вставить отложенное закрытие канала defer close(ch), таким образом, основная получит сигнал, что можно больше не ждать данных из канала.


